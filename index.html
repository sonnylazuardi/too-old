<!DOCTYPE html>
<html lang="en" ng-app>
  <head>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet' type='text/css'>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <title>sudah berapa lama gue hidup? | too old - by Bayu Aldi Yansyah forked by Sonny Lazuardi :D</title>
    <meta name="description" content="Simple apps to measure how old are you now with precisly. built using KnockoutJS aand Bootstrap">
    <meta name="keywords" content="sonny lazuardi hermawan, @sonnylazuardi, knockoutjs, apps, bootstrap">

    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <meta itemprop="name" content="too old">
    <meta itemprop="description" content="Simple apps to measure how old are you now with precisly. built using KnockoutJS aand Bootstrap">

    <meta name="author" content="Bayu Aldi Yansyah, bayualdiyansyah@gmail.com">
    <meta name="copyright" content="Bayu Aldi Yansyah">
    <link rel="author" href="https://plus.google.com/+BayuAldiYansyah?rel=author">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="atpyk.org">
    <meta name="twitter:site" content="@peeyek"> 
    <meta name="twitter:site:id" content="285522902">
    <meta name="twitter:creator" content="@peeyek">
    <meta name="twitter:creator:id" content="285522902">
    <meta name="twitter:title" content="too old">
    <meta name="twitter:description" content="Simple apps to measure how old are you now with precisly. built using KnockoutJS aand Bootstrap">
    <meta name="twitter:image" content="assets/images/cover-front.png">


    <meta property="og:title" content="too old">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://atpyk.org/too-old">
    <meta property="og:image" content="assets/images/cover-front.png">
    <meta property="og:description" content="Simple apps to measure how old are you now with precisly. built using KnockoutJS aand Bootstrap">
    <meta property="article:published_time" content="2014-01-16 15:46:00 UTC">
    <meta property="article:author" content="Bayu Aldi Yansyah">
    <meta property="article:tag" content="">
    <meta property="og:site_name" content="too old">

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5-els.js"></script>
    <![endif] -->
    
    <link href="assets/styles/main.css" rel="stylesheet" media="screen">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.0.0/knockout-min.js"></script>
    <script src="assets/scripts/pager.min.js"></script>
  </head>
  <body>

  <a href="https://github.com/sonnylazuardi/too-old"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

  <div class="container-wide remove-padding">
    <header class="copyright">
      <p>
      <a href="http://atpyk.org">
        <img class="logo" src="assets/images/logo-pyk.png" alt=""> <img class="logo2" src="assets/images/logo-sonnylab.png" alt=""><br>
      </a>
      &copy; 2014
          - dibuat dengan <strike><a href="http://angularjs.org">AngularJS</a></strike> <a href="http://knockoutjs.com">KnockoutJS</a>, <a href="http://pagerjs.com/">PagerJS</a> dan <a href="http://getbootstrap.com">Bootstrap</a><br> oleh <a href="http://atpyk.org/about/">Bayu</a> dan di <strike>garpu</strike> fork oleh <a href="http://sonnylab.com/">Sonny</a>. kirim <a href="mailto:bay@atpyk.org?subject=kritik dan saran buat project too old lo bay"> kritik dan saran</a>
      </p>
    </header>
  </div>

  <div data-bind="page: {id: 'calculate'}" class="change-bg">
    <div class="container result-container">
      <section class="result">
        <h3>Ternyata, lo sudah menghabiskan waktu di dunia ini selama
           <span data-bind="text: results.year"></span> tahun 
           <span data-bind="text: results.month"></span> bulan
           <span data-bind="text: results.week"></span> minggu
           <span data-bind="text: results.day"></span> hari
           <span data-bind="text: results.hour"></span> jam
           <span data-bind="text: results.minute"></span> menit
           <span data-bind="text: results.second"></span> detik looo.
        </h3>
        <p class="cari-tahu-lagi">
          <a href="#start">cari tahu lagi</a>
        </p>
      </section>
    </div>
  </div>

  <div data-bind="page: {id: 'start'}">
    <div class="container">
      <header>
        <h1>Sudah berapa lama gue hidup?</h1>
      </header>
      
      <section>
        <p>gue lahir pada:</p>
        <p class="big">
          <a href="#" data-toggle="modal" data-target="#changeDate">
            <span data-bind="text: date"></span>
          </a>/
          <a href="#" data-toggle="modal" data-target="#chooseMonth">
            <span data-bind="text: months()[month()].id"></span>
          </a>/
          <a href="#" data-toggle="modal" data-target="#changeYear">
            <span data-bind="text: year"></span>
          </a>
        </p>
        <span>* klik untuk mengganti tanggal, bulan dan tahun lahir</span>
        <p class="cari-tahu"><a data-bind="click: showResult">cari tahu</a></p>
      </section>
    </div>
  </div>

  <div class="modal fade" id="changeDate" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="container">
      <section>
          <form parsley-validate parsley-show-errors>
            <p class="change-date">
            <select class="input-number" data-bind="foreach: new Array(maxdate()), value: date">
              <option data-bind="value: $index()+1, text: $index()+1"></option>
            </select>
            <a href="#" data-dismiss="modal"></a>
            </p>
          </form>
      </section>
    </div>
  </div>

  <div class="modal fade" id="chooseMonth" tabindex="-1" role="dialog" 
    aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="container">
      <div class="row" data-bind="foreach: months">
          <a href="#" data-dismiss="modal"class="month" data-bind="click: $parent.chooseMonth">
            <p data-bind="text: $data.id"></p>
          </a>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade" id="changeYear" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="container">
      <section>
        <p class="change-year">
          <input type="number" class="input-number" data-bind="value: year"/>
          <a href="#" data-dismiss="modal"></a>
        </p>
      </section>
    </div>
  </div>
    
    <p>
    
    </p>
    <script>
      /* 
        Fakta penting nih:
        1 minutes  = 60 seconds
        1 hours    = 3 600 seconds
        1 day      = 86 400 seconds
        1 week     = 604 800 seconds
        1 month    = 2 629 743.83 seconds
        1 year     = 31 556 926 seconds
      */
      var months = [
        {en: "January",   id: "Januari",    max: 31},
        {en: "February",  id: "Februari",   max: 29},
        {en: "March",     id: "Maret",      max: 31},
        {en: "April",     id: "April",      max: 30},
        {en: "May",       id: "Mei",        max: 31},
        {en: "June",      id: "Juni",       max: 30},
        {en: "July",      id: "Juli",       max: 31},
        {en: "August",    id: "Agustus",    max: 31},
        {en: "September", id: "September",  max: 30},
        {en: "October",   id: "Oktober",    max: 31},
        {en: "November",  id: "November",   max: 30},
        {en: "December",  id: "Desember",   max: 31}
      ];

      function TooOldVM() {
        var self = this;
        self.months = ko.observableArray(months);
        self.maxdate = ko.observable(31);
        self.date = ko.observable(31);
        self.month = ko.observable(6);
        self.year = ko.observable(1993);
        self.results = {
          year : ko.observable(''),
          month : ko.observable(''),
          week : ko.observable(''),
          day : ko.observable(''),
          hour : ko.observable(''),
          minute : ko.observable(''),
          second : ko.observable('')
        };
        
        self.chooseMonth = function(index){
          self.month(self.months.indexOf(index));
          self.maxdate(index.max);
          if (self.date() > self.maxdate()) self.date(self.maxdate());
        }

        self.showResult = function() {
          // $(".calculator").addClass("hidden");
          // $("html").addClass("change-bg");
          // $(".result-container").removeClass("hidden");
          var dateBorn = new Date();
          dateBorn.setFullYear(self.year(), self.month(), self.date());
          var today   = new Date();
          var seconds = (today - dateBorn)/1000;
          self.calc(seconds);
          window.location.href = '#calculate';
        }

        self.calc = function(seconds) {
          var years = Math.floor(seconds/31556926)
            , months = Math.floor((seconds%31556926)/2629743.83) 
            , weeks = Math.floor(((seconds%31556926)%2629743.83)/604800) 
            , days = Math.floor((((seconds%31556926)%2629743.83)%604800)/86400)
            , hours = Math.floor(((((seconds%31556926)%2629743.83)%604800)%86400)/3600)
            , minutes = Math.floor((((((seconds%31556926)%2629743.83)%604800)%86400)%3600)/60)
            , seconds = (((((seconds%31556926)%2629743.83)%604800)%86400)%3600)%60;
            
          self.results.year(years);
          self.results.month(months);
          self.results.week(weeks);
          self.results.day(days);
          self.results.hour(hours);
          self.results.minute(minutes);
          self.results.second(seconds);
        };
      }
      var viewModel = new TooOldVM();
      pager.extendWithPage(viewModel);
      ko.applyBindings(viewModel);
      pager.start({id: 'start'});

    </script>
  </body>
</html>